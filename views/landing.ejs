<!doctype html>
    <html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <title>Landing Page</title>
    </head>
    <body>
      <% if(isAuthenticated) { %>
          
      <nav>
      <h1>User Profile:</h1>
      <button id="test-button" href="/data_display" class="btn btn-primary">Test</button>
      <button id="logout-button" class="btn btn-primary">Log out</button>
      </nav>

      <pre><%= JSON.stringify(user,null,2) %></pre>

      <% } else { %>
        <div class="auth-login-container">
          <p>Please log in to access this page.</p>
          <button onclick="location.href='/index'" class="btn btn-primary">Login</button>
        </div>
      <% } %>

      <script>
        // var webAuth = new auth0.WebAuth({
        //   domain: 'dev-k7faluteobqev1a0.us.auth0.com',
        //   clientID: 'WJJFBtnRYl7hXuXADR5uP48Hng1Z9Zdt',
        //   redirectUri: 'http://localhost:3000/callback',
        //   responseType: 'code',
        //   scope: 'openid profile'
        // });
        document.getElementById('test-button').addEventListener('click', () => {
          window.location.href = '/data_display';
        });
        // document.getElementById('logout-button').addEventListener('click', ()=> {
        //   webAuth.logout({
        //     returnTo: 'http://localhost:3000/login'
        //   })
        // });
      </script>

      <style>
        p {
          font-size: 20px;
        }
        button {
          font-size: 20px;
          size: 2cap;
        }
        .auth-login-container {
          display: flex;
          flex-direction: column;
          justify-content: center;
          text-align: center;
          align-items: center;
          height: 100vh;
        }
      </style>

    </body>
</html>
